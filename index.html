<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Snek</title>
    <script src="nn.js" defer></script>
    <script src="matrix.js" defer></script>
    <script src="queue.js" defer></script>
    <script src="definitions.js" defer></script>
    <script src="snake.js" defer></script>
    <script src="game.js" defer></script>
    <style>
        body {
            color: #f0f0f0;
            background-color: #0f0f0f;
            text-align: center;
        }

        section {
            margin: 1rem 0;
        }

        table {
            margin: auto;
            text-align: left;
        }

        #canvas {
            display: block;
            margin: auto;
        }

        .sidebar {
            margin: 1.5rem auto;
            max-width: 30rem;
            border-radius: 0.5rem;
            padding: 1rem 0.5rem 1px;
            background-color: #303030;
        }

        .generationSettings {
            text-align: left;
        }

        #reset {
            float: right;
        }

        #inputJSON {
            box-sizing: border-box;
            width: 100%;
            height: 10rem;
            margin: 0.5rem 0;
            color: #f0f0f0;
            background-color: #0f0f0f;
        }
    </style>
</head>
<body>
    <h1>Machine Learning Demo</h1>
    <canvas id="canvas" width="300" height="300" tabindex="0"></canvas>
    <aside class="sidebar">
        <table>
            <p>
                <span id="aiSpan">AI: on</span>
            </p>
            <tr>
                <td>Toggle AI (to control the snakes):</td>
                <td>Space</td>
            </tr>
            <tr>
                <td>Movement:</td>
                <td>Arrows</td>
            </tr>
            <tr>
                <td>Turn left:</td>
                <td>A</td>
            </tr>
            <tr>
                <td>Turn right:</td>
                <td>D</td>
            </tr>
        </table>
        <p>
            FPS:<br>
            <input id="fps" type="range" min="1" max="100" step="1" value="5"><span id="fpsSpan"></span>
        </p>
        <p>
            TPS:<br>
            <input id="tps" type="range" min="1" max="16" step="1" value="1"><span id="tpsSpan"></span>
        </p>
        <p>
            Generation:
            <span id="generation">1</span>
        </p>
        <p>
            Highest Score:
            <span id="highest">0</span>
        </p>
        <hr>
        <section class="generationSettings">
            Snakes Per Generation:
            <input id="snakes" type="number" min="1" max="10000" value="1000">
            <input id="reset" type="button" title="Reset the whole simulation, including the best snake." value="Apply and Reset">
        </section>
        <hr>
        <section class="sectionJSON">
            Load JSON data into a snake:
            <textarea id="inputJSON"></textarea>
            <input id="sampleJSON" type="button" title="View the JSON of the best snake I got when I ran this for half an hour." value="Sample">
            <input id="bestJSON" type="button" title="View the JSON of the best snake so far in this simulation." value="Best So Far">
            <input id="loadJSON" type="button" title="Load the JSON into the first snake. Hopefully it will survive..." value="Load">
        </section>
    </div>
</body>
</html>
